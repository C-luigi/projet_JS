<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link type="text/css" media="screen" rel="stylesheet" href="/css/reset.css">
  <link type="text/css" media="screen" rel="stylesheet" href="/css/layout.css">
  <link type="text/css" media="screen" rel="stylesheet" href="/css/home.css">
  <link type="text/css" media="screen" rel="stylesheet" href="/css/@media.css">
  <title>Accueil</title>
</head>
<body>
<header>
  <div class="title">
    <h1>Blog articles en tous genres</h1>
  </div>
  <div class="dropdown">
    <button id="dropdownButton" class="dropdown-button">Menu</button>
    <div id="dropdownMenu" style="display: none;" class="dropdown-content">
      <a href="home.html">Accueil</a>
      <a href="gallery.html">Galerie</a>
      <a href="game.html">Jeux</a>
    </div>
  </div>
</header>
<main>
  <section class="formulaire_contenair">
    <form>
      <label>Titre :
        <textarea name="title" placeholder="Votre blague" rows="5"></textarea><br>
      </label>
      <label>réponse :
        <textarea name="txtart" placeholder="Votre réponse à la blague" rows="2"></textarea><br>
      </label>
      <input type="submit" name="submit_button" value="Poster">
    </form>
  </section>
  <section class="feed_contenair">

    <article>
    </article>
  </section>
</main>
<footer>
  <div>
    <h3>Plan du site</h3>
    <ul class="nav flex-column">
      <li>Acceuil</li>
      <li>Galerie</li>
      <li>Jeux</li>
    </ul>
  </div>
  <div>
    <h3>Liens utiles</h3>
    <ul class="nav flex-column">
      <li>Condition générale</li>
      <li>Chartes de confidentialité</li>
      <li>Mentions légales</li>
    </ul>
  </div>
</footer>
<script>
  async function fetchUsers() {
    const r = await fetch('https://v2.jokeapi.dev/joke/Any?lang=fr&amount=10');
    if (r.ok === true) {
      const json = await r.json();
      // for (let i = 0; i < r.json(); i++){
      for (const joke of json.jokes) {
        console.log(joke)
        const art = document.querySelector('article');
        const order = document.createElement('h3');
        const delevry = document.createElement('p');
        order.textContent = joke.setup;
        delevry.textContent = joke.delivery;
        art.appendChild(order);
        art.appendChild(delevry);
      }
    } else {
      throw new Error('Impossible de contacter le serveur')
    }
  }
  fetchUsers()
  let dropdownButton = document.getElementById('dropdownButton');
  let dropdownMenu = document.getElementById('dropdownMenu');

  dropdownButton.addEventListener('click', function() {
    let displayStyle = dropdownMenu.style.display;

    if(displayStyle === "none") {
      dropdownMenu.style.display = "block";
    } else {
      dropdownMenu.style.display = "none";
    }
  });
</script>
</body>
</html>
<!--, {-->
<!--method: 'POST',-->
<!--headers: {-->
<!--"Accept": "application/json",-->
<!--"Content-Type": "application/json"-->
<!--},-->
<!--body: JSON.stringify({title: 'Mon premier titre'})-->
<!--}-->